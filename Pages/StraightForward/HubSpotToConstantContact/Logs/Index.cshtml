@page
@using AudiocraticAPI.Models
@model AudiocraticAPI.Pages.StraightForward.HubSpotToConstantContact.Logs.IndexModel
<style scoped>
    table.table td.contacts {
        padding-left: 64px;
    }
</style>
<div class="spacer-md"></div>
<table class="table table-bordered">
@foreach(DealStageChange change in @Model.DealStageChanges)
{
    <tr class="active">
        <th></th>
        <th>Sync Datetime</th>
        <th>Deal Name</th>
    </tr>
    <tr>
        <td>
            <button class="btn btn-sm btn-success">
                <span class="glyphicon glyphicon-repeat"></span>&nbsp&nbspRe-sync
            </button>
        </td>
        <td>@change.ChangeDateTime.ToString()</td>
        <td>@change.Deal.Name</td>
        <tr>
            <td class="contacts" colspan="3">
                <table class="table">
                    <thead>
                        <tr>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Type</th>
                        </tr>
                    </thead>
                    <tbody>
                    @foreach(Contact contact in @change.Deal.Contacts)
                    {
                        <tr>
                            <td>
                                @(contact.FirstName)
                            </td>
                            <td>
                                @(contact.LastName)
                            </td>
                            <td>
                                @(contact.Type)
                            </td>
                        </tr>
                    }
                    </tbody>
                </table>
            </td>
        </tr>
    </tr>
}
</table>
